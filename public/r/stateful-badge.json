{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "stateful-badge",
  "title": "Stateful Badge",
  "description": "A Badge that animates when it's state is changed",
  "dependencies": [
    "motion"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "registry/components/stateful-badge.tsx",
      "content": "import React, { type Ref, useImperativeHandle } from \"react\";\nimport { AnimatePresence, motion } from \"motion/react\";\nimport { CheckIcon } from \"lucide-react\";\nimport { MinusIcon, WarningIcon, XIcon } from \"@phosphor-icons/react\";\n\nexport type stateTypes = \"idle\" | \"error\" | \"success\" | \"warning\" | \"loading\";\n\nexport interface StatefulBadgeHandle {\n\tupdateState: (newState: stateTypes) => void;\n}\n\ninterface StatefulBadgeProps {\n\tinitialState: stateTypes;\n\tref: Ref<StatefulBadgeHandle>;\n}\n\nexport function StatefulBadge({ initialState, ref }: StatefulBadgeProps) {\n\tconst [badgeState, setBadgeState] = React.useState<stateTypes>(initialState);\n\n\tuseImperativeHandle(ref, () => ({\n\t\tupdateState(newState: stateTypes) {\n\t\t\tsetBadgeState(newState);\n\t\t},\n\t}));\n\tconst badgeStyles: {\n\t\ttype: stateTypes;\n\t\tclassName: string;\n\t\ticon: React.ReactNode;\n\t}[] = [\n\t\t{\n\t\t\ttype: \"idle\",\n\t\t\tclassName:\n\t\t\t\t\"bg-muted w-full aspect-square rounded-full flex items-center justify-center\",\n\t\t\ticon: (\n\t\t\t\t<MinusIcon\n\t\t\t\t\tsize={128}\n\t\t\t\t\tweight=\"bold\"\n\t\t\t\t\tclassName=\"mt-1 ml-1 text-background/85\"\n\t\t\t\t/>\n\t\t\t),\n\t\t},\n\t\t{\n\t\t\ttype: \"loading\",\n\t\t\tclassName:\n\t\t\t\t\"bg-muted w-full aspect-square rounded-full flex flex-row gap-1 items-center justify-center\",\n\t\t\ticon: (\n\t\t\t\t<>\n\t\t\t\t\t{[0, 1 / 5, 2 / 5, 3 / 5, 4 / 5].map((delay) => (\n\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\tkey={`indicator-${delay}`}\n\t\t\t\t\t\t\tclassName=\"w-4 h-4 rounded-full bg-background/85\"\n\t\t\t\t\t\t\tanimate={{ height: [16, 40, 16], opacity: [0.8, 1, 0.8] }}\n\t\t\t\t\t\t\ttransition={{\n\t\t\t\t\t\t\t\tduration: 0.5,\n\t\t\t\t\t\t\t\trepeat: Infinity,\n\t\t\t\t\t\t\t\tease: \"easeOut\",\n\t\t\t\t\t\t\t\tdelay: delay / 1.5,\n\t\t\t\t\t\t\t\trepeatDelay: 0.4,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</>\n\t\t\t),\n\t\t},\n\t\t{\n\t\t\ttype: \"success\",\n\t\t\tclassName:\n\t\t\t\t\"bg-green-400/80 w-full aspect-square rounded-full flex items-center justify-center\",\n\t\t\ticon: <CheckIcon size={96} className=\"mt-1 ml-1 text-background\" />,\n\t\t},\n\t\t{\n\t\t\ttype: \"error\",\n\t\t\tclassName:\n\t\t\t\t\"bg-destructive/90 w-full aspect-square rounded-full flex items-center justify-center\",\n\t\t\ticon: <XIcon size={128} className=\"text-background\" />,\n\t\t},\n\t\t{\n\t\t\ttype: \"warning\",\n\t\t\tclassName:\n\t\t\t\t\"bg-yellow-400/85 w-full aspect-square rounded-full flex items-center justify-center\",\n\t\t\ticon: <WarningIcon size={110} className=\"mb-3 text-background\" />,\n\t\t},\n\t];\n\n\treturn (\n\t\t<div className=\"rounded-full w-40 aspect-square flex items-center justify-center p-2\">\n\t\t\t<AnimatePresence mode=\"popLayout\">\n\t\t\t\t{badgeStyles\n\t\t\t\t\t.filter((style) => style.type === badgeState)\n\t\t\t\t\t.map((style) => (\n\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\tkey={style.type}\n\t\t\t\t\t\t\tclassName={style.className}\n\t\t\t\t\t\t\tinitial={{ scale: 0.6, opacity: 0, filter: \"blur(10px)\" }}\n\t\t\t\t\t\t\tanimate={{ scale: 1, opacity: 1, filter: \"blur(0px)\" }}\n\t\t\t\t\t\t\texit={{ scale: 0.6, opacity: 0, filter: \"blur(10px)\" }}\n\t\t\t\t\t\t\ttransition={{\n\t\t\t\t\t\t\t\ttype: \"spring\",\n\t\t\t\t\t\t\t\tstiffness: 500,\n\t\t\t\t\t\t\t\tdamping: 30,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{style.icon}\n\t\t\t\t\t\t</motion.div>\n\t\t\t\t\t))}\n\t\t\t</AnimatePresence>\n\t\t</div>\n\t);\n}\n",
      "type": "registry:component",
      "target": "components/stateful-badge.tsx"
    }
  ],
  "type": "registry:component"
}