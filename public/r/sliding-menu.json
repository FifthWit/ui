{
	"$schema": "https://ui.shadcn.com/schema/registry-item.json",
	"name": "sliding-menu",
	"title": "Sliding Menu",
	"description": "A Dropdown menu that slides between selected items",
	"dependencies": ["tw-animate-css", "@radix-ui/react-popover"],
	"registryDependencies": [],
	"files": [
		{
			"path": "registry/components/sliding-menu.tsx",
			"content": "import * as PopoverPrimitive from \"@radix-ui/react-popover\";\nimport { cn } from \"@/lib/utils\";\nimport { ChevronLeft } from \"lucide-react\";\nimport type React from \"react\";\nimport { createContext, useContext, useState, useCallback } from \"react\";\n\ntype SlidingMenuContextType = {\n\tcurrentPage: string;\n\tnavigateToPage: (pageId: string) => void;\n\tnavigateBack: () => void;\n\tpageHistory: string[];\n\tisOpen: boolean;\n\tsetIsOpen: (open: boolean) => void;\n};\n\nconst SlidingMenuContext = createContext<SlidingMenuContextType | null>(null);\n\nfunction useSlidingMenu() {\n\tconst context = useContext(SlidingMenuContext);\n\tif (!context) {\n\t\tthrow new Error(\"useSlidingMenu must be used within SlidingMenu\");\n\t}\n\treturn context;\n}\n\nfunction SlidingMenu({\n\tchildren,\n\tonPageChange,\n\t...props\n}: React.ComponentProps<typeof PopoverPrimitive.Root> & {\n\tonPageChange?: (pageId: string) => void;\n}) {\n\tconst [currentPage, setCurrentPage] = useState(\"default\");\n\tconst [pageHistory, setPageHistory] = useState<string[]>([\"default\"]);\n\tconst [isOpen, setIsOpen] = useState(false);\n\n\tconst navigateToPage = useCallback(\n\t\t(pageId: string) => {\n\t\t\tsetCurrentPage(pageId);\n\t\t\tsetPageHistory((prev) => [...prev, pageId]);\n\t\t\tonPageChange?.(pageId);\n\t\t},\n\t\t[onPageChange],\n\t);\n\n\tconst navigateBack = useCallback(() => {\n\t\tsetPageHistory((prev) => {\n\t\t\tconst newHistory = prev.slice(0, -1);\n\t\t\tif (newHistory.length > 0) {\n\t\t\t\tconst newPage = newHistory[newHistory.length - 1];\n\t\t\t\tsetCurrentPage(newPage);\n\t\t\t\tonPageChange?.(newPage);\n\t\t\t}\n\t\t\treturn newHistory;\n\t\t});\n\t}, [onPageChange]);\n\n\treturn (\n\t\t<SlidingMenuContext.Provider\n\t\t\tvalue={{\n\t\t\t\tcurrentPage,\n\t\t\t\tnavigateToPage,\n\t\t\t\tnavigateBack,\n\t\t\t\tpageHistory,\n\t\t\t\tisOpen,\n\t\t\t\tsetIsOpen,\n\t\t\t}}\n\t\t>\n\t\t\t<PopoverPrimitive.Root\n\t\t\t\topen={isOpen}\n\t\t\t\tonOpenChange={() => {\n\t\t\t\t\tsetIsOpen(!isOpen);\n\t\t\t\t\tsetCurrentPage(\"default\");\n\t\t\t\t}}\n\t\t\t\tdata-slot=\"sliding-menu\"\n\t\t\t\t{...props}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</PopoverPrimitive.Root>\n\t\t</SlidingMenuContext.Provider>\n\t);\n}\n\nfunction SlidingMenuTrigger({\n\tchildren,\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof PopoverPrimitive.Trigger>) {\n\treturn (\n\t\t<PopoverPrimitive.Trigger\n\t\t\tclassName={className}\n\t\t\tdata-slot=\"sliding-menu-trigger\"\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</PopoverPrimitive.Trigger>\n\t);\n}\n\nfunction SlidingMenuPortal({\n\t...props\n}: React.ComponentProps<typeof PopoverPrimitive.Portal>) {\n\treturn <PopoverPrimitive.Portal data-slot=\"sliding-menu-portal\" {...props} />;\n}\n\nfunction SlidingMenuContent({\n\tclassName,\n\tchildren,\n\t...props\n}: React.ComponentProps<typeof PopoverPrimitive.Content>) {\n\treturn (\n\t\t<PopoverPrimitive.Content\n\t\t\tsideOffset={8}\n\t\t\tclassName={cn(\n\t\t\t\t\"bg-popover w-56 h-60 rounded-xl p-0 overflow-hidden shadow-md border\",\n\t\t\t\t\"data-[state=open]:animate-in data-[state=closed]:animate-out\",\n\t\t\t\t\"data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n\t\t\t\t\"data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95\",\n\t\t\t\t\"data-[side=bottom]:slide-in-from-top-2 data-[side=bottom]:slide-out-to-top-2\",\n\t\t\t\t\"data-[side=left]:slide-in-from-right-2 data-[side=top]:slide-out-to-bottom-2\",\n\t\t\t\t\"data-[side=right]:slide-in-from-left-2 data-[side=left]:slide-out-to-right-2\",\n\t\t\t\t\"data-[side=top]:slide-in-from-bottom-2 data-[side=right]:slide-out-to-left-2\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\tdata-slot=\"sliding-menu-content\"\n\t\t\t{...props}\n\t\t>\n\t\t\t<div className=\"relative w-full h-full overflow-hidden\">{children}</div>\n\t\t</PopoverPrimitive.Content>\n\t);\n}\n\ntype SlidingMenuPageProps = {\n\tpageId: string;\n\tclassName?: string;\n\tchildren: React.ReactNode;\n};\n\nfunction SlidingMenuPage({\n\tpageId,\n\tclassName,\n\tchildren,\n}: SlidingMenuPageProps) {\n\tconst { currentPage, navigateBack, pageHistory } = useSlidingMenu();\n\tconst isActive = currentPage === pageId;\n\tconst isDefault = pageId === \"default\";\n\n\tconst pageIndex = pageHistory.indexOf(pageId);\n\tconst currentIndex = pageHistory.indexOf(currentPage);\n\n\tlet translateValue = \"100%\";\n\n\tif (pageIndex !== -1) {\n\t\tif (pageIndex < currentIndex) {\n\t\t\ttranslateValue = \"-100%\";\n\t\t} else if (pageIndex === currentIndex) {\n\t\t\ttranslateValue = \"0%\";\n\t\t} else {\n\t\t\ttranslateValue = \"100%\";\n\t\t}\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={cn(\n\t\t\t\t\"absolute inset-0 w-full h-full flex flex-col\",\n\t\t\t\t\"transition-transform duration-200 ease-out\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\tstyle={{\n\t\t\t\ttransform: `translateX(${translateValue})`,\n\t\t\t}}\n\t\t\tdata-active={isActive}\n\t\t>\n\t\t\t{!isDefault && isActive && (\n\t\t\t\t<div className=\"flex items-center p-1 border-b\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={navigateBack}\n\t\t\t\t\t\tclassName=\"p-1 hover:bg-accent rounded-md transition-colors\"\n\t\t\t\t\t\taria-label=\"Go back\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<ChevronLeft className=\"w-4 h-4\" />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<div className=\"flex-1 p-1 overflow-y-auto\">{children}</div>\n\t\t</div>\n\t);\n}\n\ntype SlidingMenuItemProps = {\n\tonSelect?: () => void;\n\tnavigateToPage?: string;\n\tclassName?: string;\n\tchildren: React.ReactNode;\n\tvariant?: \"default\" | \"destructive\";\n\tdisabled?: boolean;\n};\n\nfunction SlidingMenuItem({\n\tonSelect,\n\tnavigateToPage,\n\tclassName,\n\tchildren,\n\tdisabled,\n\tvariant = \"default\",\n}: SlidingMenuItemProps) {\n\tconst { navigateToPage: navigate } = useSlidingMenu();\n\n\tconst handleClick = () => {\n\t\tif (navigateToPage) {\n\t\t\tnavigate(navigateToPage);\n\t\t}\n\t\tonSelect?.();\n\t};\n\n\treturn (\n\t\t<button\n\t\t\ttype=\"button\"\n\t\t\tdata-variant={variant}\n\t\t\tonClick={handleClick}\n\t\t\tdata-disabled={disabled}\n\t\t\tclassName={cn(\n\t\t\t\t\"w-full px-3 py-2 text-sm text-left rounded-lg cursor-pointer\",\n\t\t\t\t\"hover:bg-accent transition-colors\",\n\t\t\t\t\"flex items-center justify-between\",\n\t\t\t\t\"active:scale-98 duration-75 transition-transform\",\n\t\t\t\t\"data-disabled:cursor-not-allowed data-disabled:hover:bg-popover data-disabled:text-muted-foreground\",\n\t\t\t\t\"data-[variant=destructive]:text-destructive data-[variant=destructive]:hover:bg-destructive/10\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t>\n\t\t\t{children}\n\t\t</button>\n\t);\n}\n\nfunction SlidingMenuSeperator({\n\tclassName,\n\t...props\n}: React.HTMLAttributes<HTMLElement>) {\n\treturn <div className=\"my-1 w-full h-px rounded-full bg-border\" {...props} />;\n}\n\nexport {\n\tSlidingMenu,\n\tSlidingMenuContent,\n\tSlidingMenuPortal,\n\tSlidingMenuTrigger,\n\tSlidingMenuPage,\n\tSlidingMenuItem,\n\tSlidingMenuSeperator,\n\tuseSlidingMenu,\n};\n",
			"type": "registry:component",
			"target": "components/sliding-menu.tsx"
		}
	],
	"type": "registry:component"
}
